{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/SONALI/codessy%20-finalcode/Codessy/codessey/src/components/canvas/PortfolioScene.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Canvas, useFrame, useThree } from '@react-three/fiber'\r\nimport { OrbitControls, Environment, Sparkles } from '@react-three/drei'\r\nimport { EffectComposer, Bloom, Vignette } from '@react-three/postprocessing'\r\nimport { useRef, useMemo, useEffect } from 'react'\r\nimport * as THREE from 'three'\r\n\r\ninterface PortfolioSceneProps {\r\n  isReducedMotion: boolean\r\n}\r\n\r\n/* -------------------- Krishna Background -------------------- */\r\nfunction KrishnaBackground() {\r\n  const { scene } = useThree()\r\n\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined' || !scene) return\r\n\r\n    const loader = new THREE.TextureLoader()\r\n    let mounted = true\r\n\r\n    loader.load(\r\n      '/krishna-defeatingdevil.png.jpg',\r\n      (texture) => {\r\n        if (!mounted) return\r\n        texture.colorSpace = THREE.SRGBColorSpace\r\n        scene.background = texture\r\n      },\r\n      undefined,\r\n      (error) => {\r\n        console.error('Error loading texture:', error)\r\n        scene.background = new THREE.Color(0x1a237e)\r\n      }\r\n    )\r\n\r\n    return () => {\r\n      mounted = false\r\n      scene.background = null\r\n    }\r\n  }, [scene])\r\n\r\n  return null\r\n}\r\n\r\n/* -------------------- Divine Energy Particles -------------------- */\r\nfunction DivineEnergyParticles() {\r\n  const particlesRef = useRef<THREE.Points>(null!)\r\n  const particleCount = 60\r\n  const frameSkip = useRef(0) // declared first to keep hooks order stable\r\n\r\n  const data = useMemo(() => {\r\n    const positions = new Float32Array(particleCount * 3)\r\n    const colors = new Float32Array(particleCount * 3)\r\n    const sizes = new Float32Array(particleCount)\r\n    for (let i = 0; i < particleCount; i++) {\r\n      const i3 = i * 3\r\n      positions[i3] = (Math.random() - 0.5) * 20\r\n      positions[i3 + 1] = Math.random() * 12\r\n      positions[i3 + 2] = (Math.random() - 0.5) * 15\r\n      const isGolden = Math.random() > 0.3\r\n      colors[i3] = isGolden ? 1.0 : 0.95\r\n      colors[i3 + 1] = isGolden ? 0.9 : 0.3\r\n      colors[i3 + 2] = isGolden ? 0.2 : 0.1\r\n      sizes[i] = Math.random() * 0.15 + 0.08\r\n    }\r\n    return { positions, colors, sizes }\r\n  }, [])\r\n\r\n  useFrame((state) => {\r\n    frameSkip.current = (frameSkip.current + 1) % 2\r\n    if (frameSkip.current !== 0) return // throttle to 30fps\r\n\r\n    const points = particlesRef.current\r\n    if (!points?.geometry) return\r\n\r\n    const time = state.clock.elapsedTime\r\n    const pos = points.geometry.attributes.position.array as Float32Array\r\n    for (let i = 0; i < particleCount; i++) {\r\n      const i3 = i * 3\r\n      pos[i3 + 1] += Math.sin(time * 0.5 + i) * 0.01\r\n      pos[i3] += Math.cos(time * 0.4 + i) * 0.005\r\n      if (pos[i3 + 1] > 12) {\r\n        pos[i3 + 1] = 0\r\n        pos[i3] = (Math.random() - 0.5) * 20\r\n        pos[i3 + 2] = (Math.random() - 0.5) * 15\r\n      }\r\n    }\r\n    points.geometry.attributes.position.needsUpdate = true\r\n  })\r\n\r\n  return (\r\n    <points ref={particlesRef}>\r\n      <bufferGeometry>\r\n        <bufferAttribute attach=\"attributes-position\" count={particleCount} array={data.positions} itemSize={3} />\r\n        <bufferAttribute attach=\"attributes-color\" count={particleCount} array={data.colors} itemSize={3} />\r\n        <bufferAttribute attach=\"attributes-size\" count={particleCount} array={data.sizes} itemSize={1} />\r\n      </bufferGeometry>\r\n      <pointsMaterial\r\n        size={0.12}\r\n        vertexColors\r\n        transparent\r\n        opacity={0.8}\r\n        sizeAttenuation\r\n        blending={THREE.AdditiveBlending}\r\n      />\r\n    </points>\r\n  )\r\n}\r\n\r\n/* -------------------- Victory Energy Drops -------------------- */\r\nfunction VictoryEnergyDrops() {\r\n  const dropsRef = useRef<THREE.Points>(null!)\r\n  const dropCount = 35\r\n  const frameSkip = useRef(0)\r\n\r\n  const data = useMemo(() => {\r\n    const positions = new Float32Array(dropCount * 3)\r\n    const colors = new Float32Array(dropCount * 3)\r\n    for (let i = 0; i < dropCount; i++) {\r\n      const i3 = i * 3\r\n      positions[i3] = (Math.random() - 0.5) * 18\r\n      positions[i3 + 1] = Math.random() * 10 + 6\r\n      positions[i3 + 2] = (Math.random() - 0.5) * 12\r\n      colors[i3] = 1.0\r\n      colors[i3 + 1] = 0.95\r\n      colors[i3 + 2] = 0.8\r\n    }\r\n    return { positions, colors }\r\n  }, [])\r\n\r\n  useFrame((state) => {\r\n    frameSkip.current = (frameSkip.current + 1) % 2\r\n    if (frameSkip.current !== 0) return // update every other frame\r\n\r\n    const points = dropsRef.current\r\n    if (!points?.geometry) return\r\n\r\n    const time = state.clock.elapsedTime\r\n    const pos = points.geometry.attributes.position.array as Float32Array\r\n    for (let i = 0; i < dropCount; i++) {\r\n      const i3 = i * 3\r\n      pos[i3 + 1] -= 0.05\r\n      pos[i3] += Math.sin(time * 2 + i) * 0.008\r\n      if (pos[i3 + 1] < -2) {\r\n        pos[i3 + 1] = Math.random() * 6 + 8\r\n        pos[i3] = (Math.random() - 0.5) * 18\r\n        pos[i3 + 2] = (Math.random() - 0.5) * 12\r\n      }\r\n    }\r\n    points.geometry.attributes.position.needsUpdate = true\r\n  })\r\n\r\n  return (\r\n    <points ref={dropsRef}>\r\n      <bufferGeometry>\r\n        <bufferAttribute attach=\"attributes-position\" count={dropCount} array={data.positions} itemSize={3} />\r\n        <bufferAttribute attach=\"attributes-color\" count={dropCount} array={data.colors} itemSize={3} />\r\n      </bufferGeometry>\r\n      <pointsMaterial size={0.06} vertexColors transparent opacity={0.9} sizeAttenuation />\r\n    </points>\r\n  )\r\n}\r\n\r\n/* -------------------- Portfolio Scene -------------------- */\r\nexport default function PortfolioScene({ isReducedMotion }: PortfolioSceneProps) {\r\n  return (\r\n    <Canvas\r\n      camera={{ position: [0, 3, 10], fov: 50 }}\r\n      dpr={[1, 1.5]}\r\n      frameloop=\"always\"\r\n      gl={{ antialias: false, powerPreference: 'high-performance' }}\r\n      style={{ background: 'transparent' }}\r\n    >\r\n      <KrishnaBackground />\r\n      <DivineEnergyParticles />\r\n      <VictoryEnergyDrops />\r\n\r\n      <Sparkles\r\n        count={isReducedMotion ? 30 : 80}\r\n        scale={18}\r\n        size={1.5}\r\n        speed={isReducedMotion ? 0.2 : 0.6}\r\n        color=\"#fef3c7\"\r\n      />\r\n\r\n      <Environment preset=\"night\" />\r\n      <OrbitControls\r\n        enableZoom={false}\r\n        enablePan={false}\r\n        maxPolarAngle={Math.PI / 2}\r\n        minPolarAngle={Math.PI / 6}\r\n        enabled={false}\r\n      />\r\n\r\n      <EffectComposer>\r\n        <Bloom intensity={0.6} luminanceThreshold={0.5} luminanceSmoothing={0.9} />\r\n        <Vignette eskil={false} offset={0.1} darkness={0.4} />\r\n      </EffectComposer>\r\n    </Canvas>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}